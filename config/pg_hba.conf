# pg_hba.conf pro Docker Compose nastavení
# Všechna připojení vyžadují heslo (scram-sha-256)

# Typ  Databáze  Uživatel  Adresa          Metoda

# Připojení přes Unix-domain socket (uvnitř kontejneru pro lokální procesy)
local   all             all                                     scram-sha-256

# Připojení z loopback adresy IPv4 (např. 127.0.0.1 uvnitř kontejneru)
host    all             all             127.0.0.1/32            scram-sha-256

# Připojení z interních Docker sítí (např. z jiných kontejnerů ve stejném Compose stacku)
# Rozsah 172.16.0.0/12 pokrývá typické Docker bridge sítě (172.16.0.0 - 172.31.255.255).
# Toto zajistí ověřování heslem pro n8n a pgadmin.
host    all             all             172.16.0.0/12           scram-sha-256

# Volitelné: Připojení z vaší lokální sítě (např. z vašeho počítače, pokud se připojujete přímo na IP Pi)
# Nahraďte 192.168.0.0/24 vaší skutečnou síťovou maskou, pokud je jiná.
# host    all             all             192.168.0.0/24          scram-sha-256

# Připojení pro replikaci (pokud byste v budoucnu nastavovali replikaci)
local   replication     all                                     scram-sha-256
host    replication     all             127.0.0.1/32            scram-sha-256
host    replication     all             172.16.0.0/12           scram-sha-256